<!DOCTYPE html>
<html>
<head>
  <title>Official Content</title>
  <style>
    body { margin:0; font-family:Segoe UI,sans-serif; height:100vh; }

    /* Overlay */
    #overlay {
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.25);
      z-index:9999;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* Windows Update box */
    .win-update {
      background:#0078d7;
      color:white;
      width:420px;
      padding:30px;
      text-align:center;
    }

    .spinner {
      margin:20px auto 0;
      width:30px;
      height:30px;
      border:4px solid rgba(255,255,255,.4);
      border-top:4px solid white;
      border-radius:50%;
      animation:spin 1s linear infinite;
    }

    @keyframes spin { to { transform:rotate(360deg); } }

    /* Windows error dialog */
    .win-error {
      background:#f2f2f2;
      color:#000;
      width:380px;
      border:1px solid #aaa;
      box-shadow:0 0 20px rgba(0,0,0,.4);
    }
    .error-title {
      background:#e5e5e5;
      padding:8px;
      font-weight:600;
      border-bottom:1px solid #ccc;
    }
    .error-body {
      padding:20px;
      display:flex;
      gap:15px;
      align-items:flex-start;
    }
    .error-body img {
      width:32px;
    }
    .error-btn {
      text-align:right;
      padding:10px;
    }
    .error-btn button {
      padding:6px 20px;
    }

    /* Icons */
    .icon { width:40px; position:absolute; display:none; cursor:pointer; }
  </style>
</head>
<body>

<h1>Welcome</h1>
<p>Browsing content...</p>

<div id="overlay"></div>

<img src="images/file.png" id="file" class="icon">
<img src="images/bin.png" id="bin" class="icon">

<script>
const overlay = document.getElementById("overlay");
const file = document.getElementById("file");
const bin = document.getElementById("bin");

let last = 0;

setInterval(()=>{
  const cmd = JSON.parse(localStorage.getItem("latestPrank"));
  if(!cmd || cmd.time===last) return;
  last = cmd.time;

  overlay.innerHTML="";
  overlay.style.display="none";

  if(cmd.type==="windows"){
    overlay.style.display="flex";
    overlay.innerHTML = `
      <div class="win-update">
        <h3>Working on updates</h3>
        <p>Don't turn off your PC</p>
        <div class="spinner"></div>
      </div>`;
  }

  if(cmd.type==="custom"){
    overlay.style.display="flex";
    overlay.innerHTML = `
      <div class="win-update">
        <h3>${cmd.msg || "Processing..."}</h3>
      </div>`;
  }

  if(cmd.type==="fake-error"){
    overlay.style.display="flex";
    overlay.innerHTML = `
      <div class="win-error">
        <div class="error-title">System Error</div>
        <div class="error-body">
          <img src="https://icons8.com/icon/Sb9rYobIrMId/error">
          <div>${cmd.msg || "Failure to Access Internet Connection"}</div>
        </div>
        <div class="error-btn">
          <button onclick="overlay.style.display='none'">OK</button>
        </div>
      </div>`;
  }

  if(cmd.type==="delete-files"){
    file.style.display="block";
    bin.style.display="block";
    file.style.top="20px";
    file.style.left="20px";
    bin.style.bottom="20px";
    bin.style.right="20px";
  }

  if(cmd.type==="clear"){
    overlay.style.display="none";
    file.style.display="none";
    bin.style.display="none";
  }
},500);
</script>

</body>
</html>
